{% extends "base.html" %}

{% block title %} Index Page {% endblock %}


{% block content %}

  <div style="background-color: {{color}};">
    <h1 style="color: white; text-align: center;">
      Docker Environment Variables Example by Chakravarthi.
    </h1>
  </div>



  <div id="root">
    <h1>Welcome to Python Flash App</h1>

    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam, eligendi dignissimos sint distinctio ea rem consequatur, harum incidunt quos perferendis consequuntur facere. Recusandae tempore eius quod similique exercitationem vitae esse voluptatum mollitia obcaecati unde alias, iure inventore tenetur at commodi delectus! Unde architecto esse rerum ratione est ab sit pariatur asperiores, consequatur, dolor accusamus commodi, dolore sequi reiciendis? Ea vero exercitationem explicabo recusandae distinctio. Vero.</p>
  </div>
  <a href="{{url_for('employees')}}">Employees Data</a>
  <br>
  <br>

  <div id="form-container">
    <h1>Login Form</h1>
    <form method="post" action="{{ url_for('index') }}">
      <input type="text" name="username" placeholder="Username"> <br>
      <input type="password" name="password" placeholder="Password"> <br>
      <input type="submit" value="Login">
    </form>
  </div>
  

  <div>

    <h1>File Upload</h1>
    <form action="{{url_for('file_upload')}}" method="post" enctype="multipart/form-data">
      <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain" required="required">
      <input type="Submit" value="Upload File">
    </form>
  </div>

  <div>
    <h1>Convert CSV</h1>
    <form action="{{url_for('convert_csv')}}" method="post" enctype="multipart/form-data">
      <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required="required">
      <input type="Submit" value="Upload File">
    </form>
  </div>

  <div>
    <h1>Convert CSV Two</h1>
    <form action="{{url_for('convert_csv_two')}}" method="post" enctype="multipart/form-data">
      <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required="required">
      <input type="Submit" value="Upload File">
    </form>
  </div>

  <div>
    <h1>JavaScript JSON Request</h1>
    <button id="post_button">Send Post Request</button>
  </div>

  <a href="{{ url_for('home') }}">Home</a>

  <script type="text/javascript">
    const postButton = document.getElementById('post_button');

    const jsonData = {name: 'Mike', greeting: 'Hello'}

    postButton.addEventListener('click', () => {
      fetch('{{ url_for("handle_post") }}', {
        method: "POST",
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        body: JSON.stringify(jsonData)
      })
      .then(response => response.json())
      .then(data => console.log('Success:', data))
      .catch(error => console.error('Error: ', error))
    })
  </script>

{% endblock %}